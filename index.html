<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vegas Form Sender</title>

	<!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

	<!-- VGFormSender -->
	<link href="/demo/css/style.css" rel="stylesheet">
	<link href="/dist/vgformsender.css" rel="stylesheet">
</head>
<body>
<div class="wrapper">
	<header class="header">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-4 col-xl-3">
					<div class="logo">
						<a href="https://vegas-dev.com/" target="_blank">
							<img src="https://vegas-dev.com/assets/_frontend/images/logo/logo.svg" class="img-fluid" alt="vegas dev">
						</a>
					</div>
				</div>
			</div>
		</div>
	</header>
	<main class="container">
		<div class="mt-5">
			<form action="/php/server.php" method="POST" class="form" id="form-simple" data-alert-type="block" data-vgformsender>
				<input type="hidden" name="form" value="simple">

				<div class="row">
					<div class="col-lg-4 mb-3">
						<label for="name" class="form-label">Ваше имя</label>
						<input type="text" name="name" id="name" class="form-control">
					</div>
					<div class="col-lg-4 mb-3">
						<label for="patronymic" class="form-label">Ваше отчество</label>
						<input type="text" name="patronymic" id="patronymic" class="form-control">
					</div>
					<div class="col-lg-4 mb-3">
						<label for="surname" class="form-label">Ваша фамилия</label>
						<input type="text" name="surname" id="surname" class="form-control">
					</div>
					<div class="col-lg-4 mb-3">
						<label for="auto" class="form-label">Выберите авто</label>
						<select name="auto" id="auto" class="form-select">
							<option value="audi">Audi</option>
							<option value="bmw">BMW</option>
							<option value="Mercedes">Mercedes</option>
							<option value="Renault">Renault</option>
							<option value="Nissan">Nissan</option>
							<option value="Kia">Kia</option>
						</select>
					</div>
					<div class="col-lg-4 mb-3">
						<p class="form-label">Ваш пол</p>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="sex" value="female" id="sex-female">
							<label class="form-check-label" for="sex-female">
								Женский
							</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="sex" value="male" id="sex-male">
							<label class="form-check-label" for="sex-male">
								Мужской
							</label>
						</div>
					</div>
					<div class="col-lg-4 mb-3">
						<label for="photo" class="form-label">Выберите фото</label>
						<input type="file" name="photo" id="photo" class="form-control">
					</div>
					<div class="col-12 mb-3">
						<div class="form-check form-switch">
							<input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
							<label class="form-check-label" for="flexSwitchCheckDefault">Я на все согласен</label>
						</div>
					</div>

					<div class="col-12">
						<button type="submit" class="btn btn-primary">Сохранить</button>
					</div>
				</div>
			</form>
		</div>

		<div class="mt-5">
			<form action="/php/server.php" method="GET" data-validate="true" id="form-feedback" data-vgformsender>
				<input type="hidden" name="form" value="feedback">

				<div class="row">
					<div class="col-lg-4 mb-3">
						<label for="user-name" class="form-label">Ваше имя <sup class="text-danger">*</sup></label>
						<input type="text" name="user-name" id="user-name" class="form-control" required>
					</div>
					<div class="col-lg-4 mb-3">
						<label for="user-email" class="form-label">Ваше email <sup class="text-danger">*</sup></label>
						<input type="email" name="user-email" id="user-email" class="form-control" required>
					</div>
					<div class="col-lg-4 mb-3">
						<label for="user-phone" class="form-label">Ваш телефон <sup class="text-danger">*</sup></label>
						<input type="text" name="user-phone" id="user-phone" class="form-control" required>
					</div>

					<div class="col-12 mb-3">
						<label for="user-message" class="form-label">Ваше письмо <sup class="text-danger">*</sup></label>
						<textarea name="user-message" id="user-message" class="form-control" required></textarea>
					</div>

					<div class="col-12">
						<button type="submit" class="btn btn-primary"><span data-text-send="Отправляем..." data-text="Отправить">Отправить</span></button>
					</div>
				</div>
			</form>
		</div>

		<div class="mt-5">
			<a href="#modal-form" class="btn btn-primary" data-bs-toggle="modal">Открыть форму в модалке</a>
		</div>
	</main>
</div>

<div class="modal fade" id="modal-form">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">Обычная форма в модалке</h4>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<form action="/php/server.php" method="post" id="form-in-modal" data-vgformsender>
					<div class="row">
						<div class="col-12">
							<div class="form-floating mb-3">
								<input type="password" name="user-cr-pass" class="form-control" id="user-cr-pass" placeholder="Ваш текущий пароль">
								<label for="user-cr-pass">Ваш текущий пароль</label>
							</div>
						</div>
						<div class="col-12">
							<div class="form-floating mb-3">
								<input type="password" name="user-new-pass" class="form-control" id="user-new-pass" placeholder="Придумайте новый пароль">
								<label for="user-new-pass">Придумайте новый пароль</label>
							</div>
						</div>
						<div class="col-12">
							<div class="form-floating mb-3">
								<input type="password" name="user-re-pass" class="form-control" id="user-re-pass" placeholder="Повторите новый пароль">
								<label for="user-re-pass">Повторите новый пароль</label>
							</div>
						</div>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button class="btn btn-outline-light" type="submit" form="form-in-modal"><span data-text="Вперед" data-text-send="Что там происходит...">Вперед</span></button>
			</div>
		</div>
	</div>
</div>

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>-->
<script src="/demo/js/script.js"></script>
<script src="/dist/vgformsender.min.js"></script>
<script>
	const $forms = document.querySelectorAll('[data-vgformsender]');
	if ($forms.length) {
		$forms.forEach(function (form) {
			new VGFormSender(form).submit();
		});
	}

	window.listener = function(event, el, callback) {
		document.addEventListener(event, function (e) {
			let selectors = document.body.querySelectorAll(el),
				element = e.target,
				index = -1;

			while (element && ((index = Array.prototype.indexOf.call(selectors, element)) === -1)) {
				element = element.parentElement;
			}

			if (index > -1) {
				(function () {
					if (typeof callback === "function") {
						callback(element);
					}

					e.preventDefault();
				}).call(element, e);
			}
		});
	}

	listener('vg.fs.success', '#form-simple', (form) => {
		console.log(form)
	})


</script>
</body>
</html>
